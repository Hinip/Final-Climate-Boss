<!DOCTYPE html>
<html>
<head>
    <title>Roulette</title>

    <style>
        body {
            background-image: url('/static/images/roulette/roulette_back.jpg');
            background-repeat: no-repeat;
            background-size: cover; /* mÃºltiplos exactos 10x */
            background-position: center;
            image-rendering: pixelated;
            display: flex;
            justify-content: center;
            color: white;
            font-family: Arial;
            text-align: center;
        }

        h1 {
            margin-top: 20px;
        }

        .contenedor {
            display: flex;
            justify-content: flex-start; /* ğŸ‘ˆ mueve a la izquierda */
            gap: 80px;
            margin-top: 40px;
            margin-left: 40px;
        }

        .ruleta-box {
            text-align: center;
        }

        .button_here_2 {
            position: absolute;
            bottom: 50%;
            left: 20px;
            width: 100px;
            height: 100px;
            cursor: pointer;
        }

        h2 {
            bottom: 45%;
            left: 40px;
            position: absolute;
        }

        canvas {
            background: white;
            border-radius: 50%;
        }

        button {
            margin-top: 15px;
            padding: 10px 30px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>

<body>

<h1>ğŸ° RULETA DE Q&A ğŸ°</h1>
<img src="/static/images/general/here.png" class="button_here_2" onclick="ir()">
    <script>
        function ir() {
            window.location.href = "/middle";
        }
    </script>
<h2>Medio</h2>
<div class="contenedor">

    <!-- RULETA 1 -->
    <div class="ruleta-box">
        <canvas id="ruleta1" width="500" height="500"></canvas>
        <br>
        <button onclick="girar1()">GIRAR</button>
    </div>

    <!-- RULETA 2 -->
    <div class="ruleta-box">
        <canvas id="ruleta2" width="500" height="500"></canvas>
        <br>
        <button onclick="girar2()">GIRAR</button>
    </div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/zarocknz/javascript-winwheel/Winwheel.min.js"></script>

<script>
/* ========= RULETA 1 ========= */
let ruleta1 = new Winwheel({
    canvasId: 'ruleta1',
    numSegments: 40,
    outerRadius: 230,
    drawMode: 'draw',
    segments: [
    // ===== FÃCILES (1â€“15) | PESO 5 =====
    { id: 1, text: "Â¿QuÃ© es el cambio climÃ¡tico?", weight: 5 },
    { id: 2, text: "Â¿CuÃ¡l es el gas principal del calentamiento global?", weight: 5 },
    { id: 3, text: "Â¿QuÃ© actividad humana genera mÃ¡s COâ‚‚?", weight: 5 },
    { id: 4, text: "Â¿QuÃ© es el efecto invernadero?", weight: 5 },
    { id: 5, text: "Nombra una energÃ­a renovable", weight: 5 },
    { id: 6, text: "Â¿QuÃ© se estÃ¡ derritiendo por el calentamiento global?", weight: 5 },
    { id: 7, text: "Â¿QuÃ© animal del Ãrtico estÃ¡ en peligro por el clima?", weight: 5 },
    { id: 8, text: "Â¿QuÃ© provoca que suba el nivel del mar?", weight: 5 },
    { id: 9, text: "Â¿El cambio climÃ¡tico es causado por humanos?", weight: 5 },
    { id: 10, text: "Â¿QuÃ© acciÃ³n diaria ayuda mÃ¡s al planeta?", weight: 5 },
    { id: 11, text: "Â¿QuÃ© significa reciclar?", weight: 5 },
    { id: 12, text: "Â¿QuÃ© transporte contamina menos?", weight: 5 },
    { id: 13, text: "Â¿Por quÃ© los Ã¡rboles ayudan al clima?", weight: 5 },
    { id: 14, text: "Dime un gas que no contamina", weight: 5 },
    { id: 15, text: "Â¿Las fÃ¡bricas causan contaminaciÃ³n?", weight: 5 },

    // ===== MEDIA (16â€“30) | PESO 3 =====
    { id: 16, text: "Â¿QuÃ© es la huella de carbono?", weight: 3 },
    { id: 17, text: "Â¿QuÃ© paÃ­s contamina mÃ¡s actualmente?", weight: 3 },
    { id: 18, text: "Â¿QuÃ© es la deforestaciÃ³n?", weight: 3 },
    { id: 19, text: "Â¿QuÃ© es la energÃ­a eÃ³lica?", weight: 3 },
    { id: 20, text: "Â¿QuÃ© estÃ¡ calentando los ocÃ©anos?", weight: 3 },
    { id: 21, text: "Define 'gases de efecto invernadero'", weight: 3 },
    { id: 22, text: "Â¿QuÃ© gas producen las vacas?", weight: 3 },
    { id: 23, text: "Â¿Por quÃ© el metano es tan peligroso?", weight: 3 },
    { id: 24, text: "Nombra un desastre climÃ¡tico", weight: 3 },
    { id: 25, text: "Â¿QuÃ© quiere lograr el Acuerdo de ParÃ­s?", weight: 3 },
    { id: 26, text: "Â¿QuÃ© pasa si la Tierra sube 2Â°C?", weight: 3 },
    { id: 27, text: "Â¿QuÃ© actividad destruye mÃ¡s bosques?", weight: 3 },
    { id: 28, text: "Â¿QuÃ© significa energÃ­a limpia?", weight: 3 },
    { id: 29, text: "Â¿Por quÃ© sube el nivel del mar?", weight: 3 },
    { id: 30, text: "Â¿QuÃ© es la sustentabilidad?", weight: 3 },

    // ===== DIFÃCIL (31â€“40) | PESO 1 =====
    { id: 31, text: "Â¿QuÃ© es la acidificaciÃ³n de los ocÃ©anos?", weight: 1 },
    { id: 32, text: "Â¿CuÃ¡nto del calentamiento global es causado por humanos?", weight: 1 },
    { id: 33, text: "Â¿QuÃ© es el permafrost?", weight: 1 },
    { id: 34, text: "Â¿QuÃ© pasa si el permafrost se derrite?", weight: 1 },
    { id: 35, text: "Â¿QuÃ© es el albedo terrestre?", weight: 1 },
    { id: 36, text: "Â¿QuÃ© significa retroalimentaciÃ³n climÃ¡tica?", weight: 1 },
    { id: 37, text: "Â¿QuÃ© corriente regula la temperatura en Europa?", weight: 1 },
    { id: 38, text: "Â¿QuÃ© es la migraciÃ³n climÃ¡tica?", weight: 1 },
    { id: 39, text: "Â¿CuÃ¡l es el sector mÃ¡s contaminante del mundo?", weight: 1 },
    { id: 40, text: "Â¿QuÃ© es un punto de no retorno (tipping point)?", weight: 1 }
    ],

    animation: {
        type: 'spinToStop',
        duration: 4,
        spins: 8,
        callbackFinished: mostrarPregunta


    }
});

function girar1() {
    ruleta1.startAnimation();
}

function mostrarPregunta(indicatedSegment) {
    alert("Ruleta 1: " + indicatedSegment.text);

    let lista = JSON.parse(localStorage.getItem("preguntas")) || [];
    lista.push({
        id: indicatedSegment.id,
        text: indicatedSegment.text
    });
    localStorage.setItem("preguntas", JSON.stringify(lista));

    eliminarSegmento(ruleta1, indicatedSegment);
}

/* ========= RULETA 2 ========= */
let ruleta2 = new Winwheel({
    canvasId: 'ruleta2',
    numSegments: 40,
    outerRadius: 230,
    drawMode: 'draw',
    segments: [
    // ===== FÃCILES (1â€“15) | PESO 5 =====
    { id: 1, text: "Cambio en la temperatura global a largo plazo", weight: 5 },
    { id: 2, text: "DiÃ³xido de carbono (COâ‚‚)", weight: 5 },
    { id: 3, text: "La quema de combustibles fÃ³siles", weight: 5 },
    { id: 4, text: "Un proceso que atrapa calor en la atmÃ³sfera", weight: 5 },
    { id: 5, text: "Solar, eÃ³lica o hidrÃ¡ulica", weight: 5 },
    { id: 6, text: "Los glaciares y el hielo polar", weight: 5 },
    { id: 7, text: "El oso polar", weight: 5 },
    { id: 8, text: "El derretimiento de hielo y la expansiÃ³n del agua", weight: 5 },
    { id: 9, text: "SÃ­, principalmente por actividad humana", weight: 5 },
    { id: 10, text: "Reducir, reciclar y ahorrar energÃ­a", weight: 5 },
    { id: 11, text: "Convertir residuos en nuevos materiales", weight: 5 },
    { id: 12, text: "La bicicleta o caminar", weight: 5 },
    { id: 13, text: "Absorben COâ‚‚ y producen oxÃ­geno", weight: 5 },
    { id: 14, text: "OxÃ­geno (Oâ‚‚)", weight: 5 },
    { id: 15, text: "SÃ­, producen gases contaminantes", weight: 5 },

    // ===== MEDIA (16â€“30) | PESO 3 =====
    { id: 16, text: "La cantidad de COâ‚‚ que generas", weight: 3 },
    { id: 17, text: "China", weight: 3 },
    { id: 18, text: "La tala masiva de Ã¡rboles", weight: 3 },
    { id: 19, text: "EnergÃ­a producida por el viento", weight: 3 },
    { id: 20, text: "El calentamiento global", weight: 3 },
    { id: 21, text: "Gases que atrapan calor", weight: 3 },
    { id: 22, text: "Metano (CHâ‚„)", weight: 3 },
    { id: 23, text: "Atrapa mucho mÃ¡s calor que el COâ‚‚", weight: 3 },
    { id: 24, text: "Incendios, huracanes, sequÃ­as", weight: 3 },
    { id: 25, text: "Reducir el calentamiento global", weight: 3 },
    { id: 26, text: "Genera daÃ±os irreversibles", weight: 3 },
    { id: 27, text: "La agricultura y ganaderÃ­a intensiva", weight: 3 },
    { id: 28, text: "EnergÃ­a que no contamina", weight: 3 },
    { id: 29, text: "Derretimiento y expansiÃ³n tÃ©rmica", weight: 3 },
    { id: 30, text: "Usar recursos sin agotarlos", weight: 3 },

    // ===== DIFÃCIL (31â€“40) | PESO 1 =====
    { id: 31, text: "Exceso de COâ‚‚ disuelto en el mar", weight: 1 },
    { id: 32, text: "MÃ¡s del 97% es por humanos", weight: 1 },
    { id: 33, text: "Suelo congelado permanentemente", weight: 1 },
    { id: 34, text: "Libera enormes cantidades de metano", weight: 1 },
    { id: 35, text: "La capacidad de reflejar luz solar", weight: 1 },
    { id: 36, text: "Un efecto que se refuerza a sÃ­ mismo", weight: 1 },
    { id: 37, text: "La corriente del Golfo", weight: 1 },
    { id: 38, text: "MigraciÃ³n causada por el clima", weight: 1 },
    { id: 39, text: "El sector energÃ©tico y transporte", weight: 1 },
    { id: 40, text: "Un cambio irreversible del sistema climÃ¡tico", weight: 1 }
    ],


    animation: {
        type: 'spinToStop',
        duration: 3,
        spins: 6,
        callbackFinished: mostrarRespuesta  
    }
});

function girar2() {
    ruleta2.startAnimation();
}

function mostrarRespuesta(indicatedSegment) {
    alert("Ruleta 2: " + indicatedSegment.text);

    let lista = JSON.parse(localStorage.getItem("respuestas")) || [];
    lista.push({
        id: indicatedSegment.id,
        text: indicatedSegment.text
    });
    localStorage.setItem("respuestas", JSON.stringify(lista));

    eliminarSegmento(ruleta2, indicatedSegment);
}

</script>
<script>
if (localStorage.getItem("vidas") === null) {
    localStorage.setItem("vidas", 3);
}
</script>

</body>
</html>
