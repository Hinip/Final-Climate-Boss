<!DOCTYPE html>
<html>
<head>
    <title>Roulette</title>

    <style>
        body {
            background-image: url('/static/images/roulette/roulette_back.jpg');
            background-repeat: no-repeat;
            background-size: cover; /* mÃºltiplos exactos 10x */
            background-position: center;
            image-rendering: pixelated;
            display: flex;
            justify-content: center;
            color: white;
            font-family: Arial;
            text-align: center;
        }

        h1 {
            margin-top: 20px;
        }

        .contenedor {
            display: flex;
            justify-content: flex-start; /* ğŸ‘ˆ mueve a la izquierda */
            gap: 80px;
            margin-top: 40px;
            margin-left: 40px;
        }

        .ruleta-box {
            text-align: center;
        }

        .button_here_2 {
            position: absolute;
            bottom: 50%;
            left: 20px;
            width: 100px;
            height: 100px;
            cursor: pointer;
        }

        h2 {
            bottom: 45%;
            left: 40px;
            position: absolute;
        }

        canvas {
            background: white;
            border-radius: 50%;
        }

        button {
            margin-top: 15px;
            padding: 10px 30px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>

<body>

<h1>ğŸ° RULETA DE Q&A ğŸ°</h1>
<img src="/static/images/general/here.png" class="button_here_2" onclick="ir()">
    <script>
        function ir() {
            window.location.href = "/middle";
        }
    </script>
<h2>Medio</h2>
<div class="contenedor">

    <!-- RULETA 1 -->
    <div class="ruleta-box">
        <canvas id="ruleta1" width="500" height="500"></canvas>
        <br>
        <button onclick="girar1()">GIRAR</button>
    </div>

    <!-- RULETA 2 -->
    <div class="ruleta-box">
        <canvas id="ruleta2" width="500" height="500"></canvas>
        <br>
        <button onclick="girar2()">GIRAR</button>
    </div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/zarocknz/javascript-winwheel/Winwheel.min.js"></script>

<script>
/* ========= RULETA 1 ========= */
let ruleta1 = new Winwheel({
    canvasId: 'ruleta1',
    numSegments: 40,
    outerRadius: 230,
    drawMode: 'draw',
    segments: [
    // ===== FÃCILES (1â€“15) | PESO 5 =====
    { text: "Â¿QuÃ© es el cambio climÃ¡tico?", weight: 5 },
    { text: "Â¿Gas principal del calentamiento global?", weight: 5 },
    { text: "Actividad que genera mÃ¡s COâ‚‚?", weight: 5 },
    { text: "Â¿QuÃ© es el efecto invernadero?", weight: 5 },
    { text: "Â¿Ejemplo de energÃ­a renovable?", weight: 5 },
    { text: "Â¿QuÃ© se derrite por el calentamiento?", weight: 5 },
    { text: "Animal del Ãrtico en peligro?", weight: 5 },
    { text: "Â¿QuÃ© provoca el aumento del mar?", weight: 5 },
    { text: "Â¿El cambio climÃ¡tico es humano?", weight: 5 },
    { text: "Â¿QuÃ© acciÃ³n ayuda al planeta?", weight: 5 },
    { text: "Â¿QuÃ© significa reciclar?", weight: 5 },
    { text: "Â¿Transporte que menos contamina?", weight: 5 },
    { text: "Â¿Los Ã¡rboles ayudan?", weight: 5 },
    { text: "Â¿Gas que no contamina?", weight: 5 },
    { text: "Â¿Las fÃ¡bricas contaminan?", weight: 5 },

    // ===== MEDIA (16â€“30) | PESO 3 =====
    { text: "Â¿QuÃ© es huella de carbono?", weight: 3 },
    { text: "PaÃ­s que mÃ¡s contamina?", weight: 3 },
    { text: "Â¿QuÃ© es deforestaciÃ³n?", weight: 3 },
    { text: "Â¿EnergÃ­a del viento?", weight: 3 },
    { text: "Â¿QuÃ© calienta los ocÃ©anos?", weight: 3 },
    { text: "Â¿QuÃ© son gases invernadero?", weight: 3 },
    { text: "Gas que producen las vacas?", weight: 3 },
    { text: "Â¿Por quÃ© el metano es peligroso?", weight: 3 },
    { text: "Â¿Ejemplo de desastre climÃ¡tico?", weight: 3 },
    { text: "Â¿QuÃ© busca el Acuerdo de ParÃ­s?", weight: 3 },
    { text: "Â¿QuÃ© pasa si sube 2Â°C?", weight: 3 },
    { text: "Actividad que destruye bosques?", weight: 3 },
    { text: "Â¿QuÃ© es energÃ­a limpia?", weight: 3 },
    { text: "Â¿Por quÃ© sube el mar?", weight: 3 },
    { text: "Â¿QuÃ© es sustentabilidad?", weight: 3 },

    // ===== DIFÃCIL (31â€“40) | PESO 1 =====
    { text: "Â¿QuÃ© es acidificaciÃ³n oceÃ¡nica?", weight: 1 },
    { text: "Â¿CuÃ¡nto del calentamiento es humano?", weight: 1 },
    { text: "Â¿QuÃ© es permafrost?", weight: 1 },
    { text: "Â¿QuÃ© pasa si se derrite?", weight: 1 },
    { text: "Â¿QuÃ© es albedo terrestre?", weight: 1 },
    { text: "Â¿QuÃ© es retroalimentaciÃ³n?", weight: 1 },
    { text: "Corriente que regula Europa?", weight: 1 },
    { text: "Â¿QuÃ© es migraciÃ³n climÃ¡tica?", weight: 1 },
    { text: "Sector mÃ¡s contaminante?", weight: 1 },
    { text: "Â¿QuÃ© es un tipping point?", weight: 1 }
    ],

    animation: {
        type: 'spinToStop',
        duration: 4,
        spins: 8,
        callbackFinished: mostrarPregunta


    }
});

function girar1() {
    ruleta1.startAnimation();
}

function mostrarPregunta(segmento) {
    alert("Ruleta 1: " + segmento.text);

    // Guardar en localStorage
    let lista = JSON.parse(localStorage.getItem("preguntas")) || [];
    lista.push(segmento.text);
    localStorage.setItem("preguntas", JSON.stringify(lista));
}

/* ========= RULETA 2 ========= */
let ruleta2 = new Winwheel({
    canvasId: 'ruleta2',
    numSegments: 40,
    outerRadius: 230,
    drawMode: 'draw',
    segments: [
    // ===== RESPUESTAS FÃCILES | PESO 5 =====
    { text: "Aumento de temperatura global", weight: 5 },
    { text: "DiÃ³xido de carbono", weight: 5 },
    { text: "Quema de combustibles", weight: 5 },
    { text: "Atrapa calor", weight: 5 },
    { text: "EnergÃ­a solar", weight: 5 },
    { text: "Glaciares", weight: 5 },
    { text: "Oso polar", weight: 5 },
    { text: "Derretimiento de hielos", weight: 5 },
    { text: "Ambas, pero mÃ¡s humano", weight: 5 },
    { text: "Reciclar", weight: 5 },
    { text: "Reutilizar residuos", weight: 5 },
    { text: "Bicicleta", weight: 5 },
    { text: "SÃ­", weight: 5 },
    { text: "OxÃ­geno", weight: 5 },
    { text: "SÃ­", weight: 5 },

    // ===== RESPUESTAS MEDIAS | PESO 3 =====
    { text: "Cantidad de COâ‚‚ personal", weight: 3 },
    { text: "China", weight: 3 },
    { text: "Tala masiva", weight: 3 },
    { text: "EÃ³lica", weight: 3 },
    { text: "Calentamiento global", weight: 3 },
    { text: "Gases que atrapan calor", weight: 3 },
    { text: "Metano", weight: 3 },
    { text: "Calienta mÃ¡s que COâ‚‚", weight: 3 },
    { text: "SequÃ­as e incendios", weight: 3 },
    { text: "Reducir calentamiento", weight: 3 },
    { text: "DaÃ±os graves", weight: 3 },
    { text: "GanaderÃ­a", weight: 3 },
    { text: "EnergÃ­a sin contaminar", weight: 3 },
    { text: "Deshielo y expansiÃ³n", weight: 3 },
    { text: "Uso responsable de recursos", weight: 3 },

    // ===== RESPUESTAS DIFÃCILES | PESO 1 =====
    { text: "Exceso de COâ‚‚ en el mar", weight: 1 },
    { text: "MÃ¡s del 97%", weight: 1 },
    { text: "Suelo congelado", weight: 1 },
    { text: "Libera metano", weight: 1 },
    { text: "Reflejar luz solar", weight: 1 },
    { text: "Refuerza efectos", weight: 1 },
    { text: "Corriente del Golfo", weight: 1 },
    { text: "Desplazamiento humano", weight: 1 },
    { text: "EnergÃ­a y transporte", weight: 1 },
    { text: "Punto sin retorno", weight: 1 }
    ],

    animation: {
        type: 'spinToStop',
        duration: 3,
        spins: 6,
        callbackFinished: mostrarRespuesta  
    }
});

function girar2() {
    ruleta2.startAnimation();
}

function mostrarRespuesta(segmento) {
    alert("Ruleta 2: " + segmento.text);

    // Guardar en localStorage
    let lista = JSON.parse(localStorage.getItem("respuestas")) || [];
    lista.push(segmento.text);
    localStorage.setItem("respuestas", JSON.stringify(lista));
}

</script>

</body>
</html>
